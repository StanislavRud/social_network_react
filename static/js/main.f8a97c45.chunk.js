(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[0],{129:function(e,t,n){e.exports={loading:"Preloader_loading__1XIBD"}},130:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},158:function(e,t,n){},16:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE"}},21:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogsItems:"Dialogs_dialogsItems__2sNe2",dialog:"Dialogs_dialog__lk_cw",activeLink:"Dialogs_activeLink__34w6e",messages:"Dialogs_messages__1w_Up",message:"Dialogs_message__1xIDh",sendMessageArea:"Dialogs_sendMessageArea__1u6h4"}},241:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=(n(158),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,287)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))}),i=n(9),c=n(10),o=n.n(c),u=n(18),l=n(33),d=n(3),j=n(126).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4fe004f6-3126-4f2c-96d6-4a1feb41787f"}}),b={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return j.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return j.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return j.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("please use profileAPI"),f.getProfile(e)}},f={getProfile:function(e){return j.get("profile/"+e)},getStatus:function(e){return j.get("profile/status/"+e)},updateStatus:function(e){return j.put("profile/status",{status:e})}},p=function(){return j.get("auth/me")},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return j.post("auth/login",{email:e,password:t,rememberMe:n})},O=function(){return j.delete("auth/login")},g="ADD-POST",m="SET_USER_PROFILE",v="SET_STATUS",x="DELETE_POST",_={posts:[{id:1,message:"Hello",likesCount:10},{id:2,message:"How are you?",likesCount:20},{id:3,message:"How ",likesCount:25},{id:4,message:"are you?",likesCount:5}],profile:null,status:""},w=function(e){return{type:v,status:e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var n={id:5,message:t.newPostText,likesCount:0};return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(l.a)(e.posts),[n])});case v:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case m:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case x:return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}},S="ADD-MESSAGE",y={dialogs:[{id:1,name:"Stas"},{id:2,name:"Dimon"},{id:3,name:"Valera"},{id:4,name:"Ann"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"I am fine"},{id:4,message:"OK"},{id:5,message:"YOYOYOYO"}]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n=t.newMessageBody;return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(l.a)(e.messages),[{id:6,message:n,likesCount:0}])});default:return e}},k={friendsData:[{id:1,name:"Stas"},{id:2,name:"Dimon"},{id:3,name:"Valera"}]},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return e},N=function(e,t,n,s){return e.map((function(e){return e[n]===t?Object(d.a)(Object(d.a)({},e),s):e}))},F="FOLLOW",A="UNFOLLOW",E="SET_USERS",L="SET_CURRENT_PAGE",U="SET_TOTAL_USERS_COUNT",T="TOGGLE_IS_FETCHING",M="TOGGLE_IS_FOLLOWING_PROGRESS",D={users:[],pageSize:6,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},z=function(e){return{type:F,userId:e}},G=function(e){return{type:A,userId:e}},B=function(e){return{type:L,currentPage:e}},H=function(e){return{type:T,isFetching:e}},R=function(e,t){return{type:M,isFetching:e,userId:t}},J=function(){var e=Object(u.a)(o.a.mark((function e(t,n,s,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(H(!0)),t(R(!0,n)),e.next=4,s(n);case 4:0===e.sent.data.resultCode&&t(r(n)),t(R(!1,n)),t(H(!1));case 8:case"end":return e.stop()}}),e)})));return function(t,n,s,r){return e.apply(this,arguments)}}(),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(d.a)(Object(d.a)({},e),{},{users:N(e.users,t.userId,"id",{followed:!0})});case A:return Object(d.a)(Object(d.a)({},e),{},{users:N(e.users,t.userId,"id",{followed:!1})});case E:return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case L:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case U:return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.count});case T:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});case M:return Object(d.a)(Object(d.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(l.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},W=n(37),K="social/auth/SET_USER_DATA",V="social/auth/TOGGLE_IS_FETCHING",X={userId:null,email:null,login:null,isAuth:!1,isFetching:!0},Z=function(e,t,n,s){return{type:K,payload:{userId:e,email:t,login:n,isAuth:s}}},q=function(e){return{type:V,isFetching:e}},Q=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,s,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.next=3,p();case 3:n=e.sent,t(q(!1)),0===n.data.resultCode&&(s=n.data.data,r=s.id,a=s.email,i=s.login,t(Z(r,a,i,!0)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(d.a)(Object(d.a)({},e),t.payload);case V:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});default:return e}},ee=n(127),te=n(125),ne="INITIALIZED_SUCCESS",se={initialized:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}},ae=Object(i.c)({profilePage:P,dialogsPage:C,sideBar:I,usersPage:Y,auth:$,form:te.a,app:re}),ie=Object(i.e)(ae,Object(i.a)(ee.a));window.store=ie;var ce=ie,oe=n(65),ue=n.n(oe),le=n(13),de=n(26),je=n(27),be=n(29),fe=n(28),pe=(n(241),n(16)),he=n.n(pe),Oe=n(0),ge=function(e){return Object(Oe.jsxs)("nav",{className:he.a.nav,children:[Object(Oe.jsx)("div",{className:he.a.item,children:Object(Oe.jsx)(le.b,{to:"/profile",activeClassName:he.a.activeLink,children:"Profile"})}),Object(Oe.jsx)("div",{className:he.a.item,children:Object(Oe.jsx)(le.b,{to:"/dialogs",activeClassName:he.a.activeLink,children:"Messages"})}),Object(Oe.jsx)("div",{className:he.a.item,children:Object(Oe.jsx)(le.b,{to:"/news",activeClassName:he.a.activeLink,children:"News"})}),Object(Oe.jsx)("div",{className:he.a.item,children:Object(Oe.jsx)(le.b,{to:"/music",activeClassName:he.a.activeLink,children:"Music"})}),Object(Oe.jsx)("div",{className:he.a.item,children:Object(Oe.jsx)(le.b,{to:"/settings",activeClassName:he.a.activeLink,children:"Settings"})}),Object(Oe.jsx)("div",{className:he.a.item,children:Object(Oe.jsx)(le.b,{to:"/users",activeClassName:he.a.activeLink,children:"Users"})})]})},me=n(12),ve=n(11),xe=function(e){return{isAuth:e.auth.isAuth}},_e=function(e){var t=function(t){Object(be.a)(s,t);var n=Object(fe.a)(s);function s(){return Object(de.a)(this,s),n.apply(this,arguments)}return Object(je.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(Oe.jsx)(e,Object(d.a)({},this.props)):Object(Oe.jsx)(me.a,{to:"/login"})}}]),s}(r.a.Component);return Object(ve.b)(xe)(t)},we=_e((function(){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)("h2",{children:"Music"})})})),Pe=_e((function(){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)("h2",{children:"News"})})})),Se=_e((function(){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)("h2",{children:"Settings"})})})),ye=n(88),Ce=n.n(ye),ke=n.p+"static/media/avatar.fc60a016.svg",Ie=n(129),Ne=n.n(Ie),Fe=n.p+"static/media/preloader.86194a55.svg",Ae=function(){return Object(Oe.jsx)("div",{className:Ne.a.loading,children:Object(Oe.jsx)("img",{src:Fe,alt:"loader"})})},Ee=n(55),Le=function(e){var t=Object(s.useState)(!1),n=Object(Ee.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(e.status),c=Object(Ee.a)(i,2),o=c[0],u=c[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(Oe.jsxs)("div",{children:[!r&&Object(Oe.jsx)("div",{children:Object(Oe.jsx)("span",{onDoubleClick:function(){return a(!0)},children:e.status||"Status"})}),r&&Object(Oe.jsx)("div",{children:Object(Oe.jsx)("input",{onChange:function(e){return u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(o)},value:o})})]})},Ue=function(e){var t=e.profile,n=e.status,s=e.updateStatus;return t?Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("div",{className:Ce.a.profileInfo}),Object(Oe.jsxs)("div",{className:Ce.a.description,children:[Object(Oe.jsx)("img",{src:null!=t.photos.large?t.photos.large:ke,alt:"avatar"}),Object(Oe.jsx)(Le,{status:n,updateStatus:s}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)("h2",{children:t.fullName})}),Object(Oe.jsx)("h3",{children:"Description:"}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("span",{children:"About me: "}),Object(Oe.jsx)("strong",{children:t.aboutMe})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("span",{children:"Looking for a job: "}),Object(Oe.jsx)("strong",{children:!0===t.lookingForAJob?"YES":"NO"})]}),Object(Oe.jsx)("div",{children:null==t.lookingForAJobDescription?"":Object(Oe.jsxs)("span",{children:["Job Status: ",Object(Oe.jsx)("strong",{children:t.lookingForAJobDescription})]})})]})]}):Object(Oe.jsx)(Ae,{})},Te=n(89),Me=n.n(Te),De=n(130),ze=n.n(De),Ge=function(e){return Object(Oe.jsxs)("div",{className:ze.a.item,children:[Object(Oe.jsx)("img",{src:ke,alt:"avatar"}),e.message,Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("span",{children:"Like"})," ",e.likesCount]})]})},Be=n(123),He=n(124),Re=function(e){return e?void 0:"This field is required!"},Je=function(e){return function(t){return t.length>e?"Max length is ".concat(e," symbols"):void 0}},Ye=n(56),We=n(53),Ke=n.n(We),Ve=["input","meta","child"],Xe=["input","meta","child"],Ze=function(e){e.input;var t=e.meta,n=t.touched,s=t.error,r=(e.child,e.children),a=n&&s;return Object(Oe.jsxs)("div",{className:Ke.a.formControl+" "+(a?Ke.a.error:""),children:[Object(Oe.jsx)("div",{children:r}),a&&Object(Oe.jsx)("span",{children:s})]})},qe=function(e){var t=e.input,n=(e.meta,e.child,Object(Ye.a)(e,Ve));return Object(Oe.jsx)(Ze,Object(d.a)(Object(d.a)({},e),{},{children:Object(Oe.jsx)("textarea",Object(d.a)(Object(d.a)({},t),n))}))},Qe=function(e){var t=e.input,n=(e.meta,e.child,Object(Ye.a)(e,Xe));return Object(Oe.jsx)(Ze,Object(d.a)(Object(d.a)({},e),{},{children:Object(Oe.jsx)("input",Object(d.a)(Object(d.a)({},t),n))}))},$e=function(e,t,n,s){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(Be.a,Object(d.a)({placeholder:e,name:t,component:s,validate:n},r)),a]})},et=Je(10),tt=r.a.memo((function(e){console.log("render");var t=Object(l.a)(e.posts).reverse().map((function(e){return Object(Oe.jsx)(Ge,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(Oe.jsxs)("div",{className:Me.a.myPosts,children:[Object(Oe.jsx)("h2",{children:"My Posts"}),Object(Oe.jsx)(nt,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(Oe.jsx)("div",{className:Me.a.posts,children:t})]})})),nt=Object(He.a)({form:"addNewPost"})((function(e){return Object(Oe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)(Be.a,{name:"newPostText",component:qe,placeholder:"Input your new Post",validate:[Re,et]})}),Object(Oe.jsx)("button",{type:"submit",children:"Add post"})]})})),st=tt,rt=Object(ve.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:g,newPostText:e}}(t))}}}))(st),at=function(e){return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(Ue,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(Oe.jsx)(rt,{})]})},it=function(e){Object(be.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(de.a)(this,n),t.apply(this,arguments)}return Object(je.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(Oe.jsx)(at,Object(d.a)(Object(d.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),ct=Object(i.d)(Object(ve.b)((function(e){return{profile:e.profilePage.profile,userId:e.auth.id,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getProfile(e);case 2:s=t.sent,n((r=s.data,{type:m,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getStatus(e);case 2:s=t.sent,n(w(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(w(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),me.f)(it),ot=n(44),ut=n.n(ot),lt=n(92),dt=n.n(lt),jt=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,a=e.onPageChanged,i=e.portionSize,c=void 0===i?10:i,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var d=Math.ceil(o/c),j=Object(s.useState)(1),b=Object(Ee.a)(j,2),f=b[0],p=b[1],h=(f-1)*c+1,O=f*c;return Object(Oe.jsxs)("div",{className:dt.a.numberPages,children:[f>1&&Object(Oe.jsx)("button",{onClick:function(){return p(1)},children:"First page"}),f>1&&Object(Oe.jsx)("button",{onClick:function(){return p(f-1)},children:"Prev"}),u.filter((function(e){return e>=h&&e<=O})).map((function(e){return Object(Oe.jsx)("span",{className:r===e&&dt.a.selectedPage,onClick:function(t){a(e)},children:e},e)})),d>f&&Object(Oe.jsx)("button",{onClick:function(){return p(f+1)},children:"Next"}),d>f&&Object(Oe.jsx)("button",{onClick:function(){return p(d)},children:"Last page"})]})},bt=function(e){var t=e.user,n=e.followingInProgress,s=e.follow,r=e.unfollow;return Object(Oe.jsxs)("div",{className:ut.a.users_block,children:[Object(Oe.jsxs)("div",{className:ut.a.users_photo,children:[Object(Oe.jsx)("div",{className:ut.a.avatar,children:Object(Oe.jsx)(le.b,{to:"/profile/"+t.id,children:Object(Oe.jsx)("img",{src:null!=t.photos.small?t.photos.small:ke,alt:"avatar"})})}),Object(Oe.jsx)("div",{children:t.followed?Object(Oe.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id),t.followed=!1},children:"Unfollow "}):Object(Oe.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id),t.followed=!0},children:"Follow "})})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{children:["Name: ",t.name]}),null==t.status?"":Object(Oe.jsxs)("div",{children:["Status: ",t.status]})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{children:["Country: ","user.location.country"]}),Object(Oe.jsxs)("div",{children:["City: ","user.location.city"]})]})]})]})},ft=["currentPage","onPageChanged","totalUsersCount","pageSize","users","followingInProgress","follow","unfollow"],pt=function(e){var t=e.currentPage,n=e.onPageChanged,s=e.totalUsersCount,r=e.pageSize,a=e.users,i=e.followingInProgress,c=e.follow,o=e.unfollow;Object(Ye.a)(e,ft);return Object(Oe.jsxs)("div",{className:ut.a.container,children:[Object(Oe.jsx)(jt,{currentPage:t,onPageChanged:n,pageSize:r,totalItemsCount:s}),a.map((function(e){return Object(Oe.jsx)(bt,{user:e,followingInProgress:i,follow:c,unfollow:o},e.id)}))]})},ht=n(131),Ot=Object(ht.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),gt=function(e){return e.usersPage.pageSize},mt=function(e){return e.usersPage.totalUsersCount},vt=function(e){return e.usersPage.currentPage},xt=function(e){return e.usersPage.isFetching},_t=function(e){return e.usersPage.followingInProgress},wt=function(e){Object(be.a)(n,e);var t=Object(fe.a)(n);function n(){var e;Object(de.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(je.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(Oe.jsxs)(Oe.Fragment,{children:[this.props.isFetching?Object(Oe.jsx)(Ae,{}):null,Object(Oe.jsx)(pt,{currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,unfollow:this.props.unfollow,follow:this.props.follow,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,followingInProgress:this.props.followingInProgress})]})}}]),n}(r.a.Component),Pt=Object(i.d)(Object(ve.b)((function(e){return{users:Ot(e),pageSize:gt(e),totalUsersCount:mt(e),currentPage:vt(e),isFetching:xt(e),followingInProgress:_t(e)}}),{follow:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J(n,e,b.follow.bind(b),z);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J(n,e,b.unfollow.bind(b),G);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:B,toggleFollowingProcess:R,getUsers:function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(s){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(H(!0)),s(B(e)),n.next=4,b.getUsers(e,t);case 4:r=n.sent,s(H(!1)),s((i=r.items,{type:E,users:i})),s((a=r.totalCount,{type:U,count:a}));case 8:case"end":return n.stop()}var a,i}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(wt),St=n(21),yt=n.n(St),Ct=function(e){var t="/dialogs/"+e.id;return Object(Oe.jsx)("div",{className:yt.a.dialog,children:Object(Oe.jsxs)(le.b,{to:t,activeClassName:yt.a.activeLink,children:[Object(Oe.jsx)("img",{src:"/147140.svg",alt:"avatar",style:yt.a.img}),e.name]})})},kt=function(e){return Object(Oe.jsx)("div",{className:yt.a.message,children:e.message})},It=Je(50),Nt=Object(He.a)({form:"dialogAddMessageForm"})((function(e){return Object(Oe.jsxs)("form",{className:yt.a.sendMessageArea,onSubmit:e.handleSubmit,children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)(Be.a,{name:"newMessageBody",component:qe,placeholder:"Enter your message",validate:[Re,It]})}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)("button",{type:"submit",children:"Send Message"})})]})})),Ft=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(Oe.jsx)(Ct,{name:e.name,id:e.id},e.id)})),s=t.messages.map((function(e){return Object(Oe.jsx)(kt,{message:e.message,id:e.id},e.id)}));return Object(Oe.jsxs)("div",{className:yt.a.dialogs,children:[Object(Oe.jsx)("div",{className:yt.a.dialogsItems,children:n}),Object(Oe.jsxs)("div",{className:yt.a.messages,children:[Object(Oe.jsx)("div",{children:s}),Object(Oe.jsx)(Nt,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})]})},At=Object(i.d)(Object(ve.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:S,newMessageBody:e}}(t))}}})),_e)(Ft),Et=n(93),Lt=n.n(Et),Ut=function(e){return Object(Oe.jsxs)("header",{className:Lt.a.header,children:[Object(Oe.jsx)(le.b,{to:"/login",children:Object(Oe.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Cyberpunk_2077_logo.svg/1280px-Cyberpunk_2077_logo.svg.png",alt:"logo"})}),Object(Oe.jsx)("div",{className:Lt.a.loginBlock,children:e.isAuth?Object(Oe.jsxs)("div",{children:[e.login," ",Object(Oe.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(Oe.jsx)(le.b,{to:"/login",children:"Login"})})]})},Tt=function(e){Object(be.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(de.a)(this,n),t.apply(this,arguments)}return Object(je.a)(n,[{key:"render",value:function(){return Object(Oe.jsxs)(Oe.Fragment,{children:[this.props.isFetching?Object(Oe.jsx)(Ae,{}):null,Object(Oe.jsx)(Ut,Object(d.a)({},this.props))]})}}]),n}(r.a.Component),Mt=Object(ve.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,isFetching:e.auth.isFetching}}),{logout:function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.next=3,O();case 3:n=e.sent,t(q(!1)),0===n.data.resultCode&&t(Z(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Tt),Dt=Object(He.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(Oe.jsxs)("form",{onSubmit:t,children:[$e("E-mail","email",[Re],Qe),$e("password","password",[Re],Qe,{type:"password"}),$e(null,"rememberMe",null,Qe,{type:"checkbox"},"remember me"),n&&Object(Oe.jsx)("div",{className:Ke.a.formSummaryError,children:n}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)("button",{type:"submit",children:"Login"})})]})})),zt=Object(ve.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var s=Object(u.a)(o.a.mark((function s(r){var a,i;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r(q(!0)),s.next=3,h(e,t,n);case 3:a=s.sent,r(q(!1)),0===a.data.resultCode?r(Q()):(i=a.data.messages.length>0?a.data.messages[0]:"E-mail or Password is wrong",r(Object(W.a)("login",{_error:i})));case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(Oe.jsx)(me.a,{to:"/profile"}):Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("h1",{children:"Please LOGIN"}),Object(Oe.jsx)(Dt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),Gt=function(e){Object(be.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(de.a)(this,n),t.apply(this,arguments)}return Object(je.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(Oe.jsxs)("div",{className:"app-wrapper",children:[Object(Oe.jsx)(Mt,{}),Object(Oe.jsx)(ge,{}),Object(Oe.jsxs)("div",{className:"app-wrapper-content",children:[Object(Oe.jsx)(me.b,{path:"/dialogs",render:function(){return Object(Oe.jsx)(r.a.Suspense,{fallback:Object(Oe.jsx)("div",{children:"Loading..."}),children:Object(Oe.jsx)(At,{})})}}),Object(Oe.jsx)(me.b,{path:"/profile/:userId?",render:function(){return Object(Oe.jsx)(ct,{})}}),Object(Oe.jsx)(me.b,{path:"/users",render:function(){return Object(Oe.jsx)(Pt,{})}}),Object(Oe.jsx)(me.b,{path:"/music",render:function(){return Object(Oe.jsx)(we,{})}}),Object(Oe.jsx)(me.b,{path:"/news",render:function(){return Object(Oe.jsx)(Pe,{})}}),Object(Oe.jsx)(me.b,{path:"/settings",render:function(){return Object(Oe.jsx)(Se,{})}}),Object(Oe.jsx)(me.b,{path:"/login",render:function(){return Object(Oe.jsx)(zt,{})}})]})]}):Object(Oe.jsx)(Ae,{})}}]),n}(r.a.Component),Bt=Object(i.d)(me.f,Object(ve.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Q());Promise.all([t]).then((function(){e({type:ne})}))}}}))(Gt);ue.a.render(Object(Oe.jsx)(le.a,{children:Object(Oe.jsx)(ve.a,{store:ce,children:Object(Oe.jsx)(Bt,{})})}),document.getElementById("root")),a()},44:function(e,t,n){e.exports={container:"Users_container__6F9oG",users_block:"Users_users_block__3sYW-",users_photo:"Users_users_photo__3c8sf",avatar:"Users_avatar__gHOlh"}},53:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formSummaryError:"FormsControls_formSummaryError__1F2-S"}},88:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__2IJgv",description:"ProfileInfo_description__2yWda"}},89:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__14O2X",posts:"MyPosts_posts__3tZ1c"}},92:function(e,t,n){e.exports={numberPages:"Paginator_numberPages__H9nH5",selectedPage:"Paginator_selectedPage__3SIki"}},93:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}}},[[286,1,2]]]);
//# sourceMappingURL=main.f8a97c45.chunk.js.map